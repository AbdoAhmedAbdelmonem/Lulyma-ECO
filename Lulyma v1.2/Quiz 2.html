<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../../../MDA/1212.jpg" type="image/x-icon">

    <title>Quiz</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap');

    *{
        margin: 0;
        padding: 0;
        font-family: "Alexandria Light", cursive;
    }
    html{
        overflow: hidden;
    }

    body{
        color: #fff;
        background: #f5f5f5;
        overflow: hidden;
    }
    .header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        padding: 20px;
        background: transparent;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 100;
    }

    .navbar {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-left: auto;
        width: 280px;
    }

    .navbar a {
        font-size: 18px;
        color: white;
        text-decoration: none;
        font-weight: 500;
        margin-left: 35px;
        transition: 0.4s ease-in-out;
    }

    .logo{
        font-size: 32px;
        color: white;
        text-decoration: none;
        font-weight: 700;
        filter: drop-shadow(0 0 5px rgba(9, 0, 29, 0.29));
    }
    .logo .img{
        margin-right: -30px;
        height: auto;
        width: 120px;
    }

    .navbar a:hover{
        color: #87ff24;
    }
    .navbar a.active{
        border-bottom: 2px solid #b0cce0;
    }

    .main{
        min-height: 100vh;
        background-size: cover;
        pointer-events: auto;
        transition: 0.3s ease;
    }

    .main.active{
        filter: blur(15px);
        pointer-events: none;
    }

    .container{
        display: flex;
        height: 100vh;
        width: 200%;
    }

    .quiz-section {
        position: relative;
        left: -50%;
        width: 100%;
        display: flex;
        background: rgb(1, 22, 39);  /*hello color is here*/
        justify-content: center;
        align-items: center;
        z-index: 100;
        transition: 0.8s ease-in-out;
        transition-delay: 0.25s;
    }

    .quiz-section.active{
        left: 0;
    }

    .home{
        position: relative;
        left: -50%;
        height: 100vh;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .home-content{
        max-width: 680px;
        display: flex;
        align-items: center;
        flex-direction: column;
    }
    .home-content img{
        width: 250px;
        padding: 20px;
        margin-top: -20px;
        justify-content: center;
        justify-items: center;
        align-items: center;
        align-content: center;
    }
    .home-content p{
        font-size: 16px;
        text-align: center;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        margin-bottom: 30px;
    }
    .home-content .start-btn{
        width: 190px;
        height: 55px;
        background: rgba(7, 13, 21, 0.53);
        border: 2px solid white;
        outline: none;
        color: white;
        border-radius: 6px;
        box-shadow: 0 0 10px #ffffff;
        font-size: 18px;
        letter-spacing: 1px;
        font-weight: 600;
        cursor: pointer;
        transition: 0.5s;
    }

    .home-content .start-btn:hover{
        background: #029b05;
        box-shadow: 0 0 25px #029b05,
        0 0 50px #ffffff;
    }

    .popup-info , .popup2{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.9);
        width: 500px;
        background: #ffffff;
        border-radius: 6px;
        padding: 10px 25px;
        opacity: 0;
        pointer-events: none;
        transition: 0.3s ease;
    }

    .popup-info.active , .popup2.active{
        opacity: 1;
        pointer-events: auto;
        transform: translate(-50%, -50%) scale(1);
    }
    .popup-info h2 , .popup2 h2{
        font-size: 50px;
        color: #029b05;
        text-align: right;
        padding-bottom: 20px;
    }
    .popup-info .info , .popup2 .gran{
        display: inline-block;
        font-size: 16px;
        color: #000000;
        font-weight: 500;
        margin: 4px 0;
    }

    .popup-info .btn-group , .popup2 .btn{
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-top: 1px solid #999;
        margin-top: 10px;
        padding: 15px 0 7px;
    }

    .popup-info .btn-group .info-btn , .popup2 .btn .info-ok-btn{
        display: inline-flex;
        justify-content: center;
        align-items: center;
        width: 130px;
        height: 45px;
        background: #029b05;
        border: 2px solid #029b05;
        outline: none;
        border-radius: 6px;
        text-decoration: none;
        font-size: 16px;
        color: #fff;
        font-weight: 600;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: 0.5s;
    }
    .popup2 .btn {
        display: flex;
        justify-content: center;
    }

    .popup-info .btn-group .info-btn:nth-child(1) {
        background: transparent;
        color: #ff0000;
        border: 2px solid #da0707;
    }
    .popup-info .btn-group .info-btn:nth-child(1):hover{
        background: #da0707;
        color: white;
        border: 0 solid red;
        box-shadow: 0 0 25px red,
        0 0 50px red;
    }
    .info-btn:nth-child(2).disabled {
        pointer-events: none;
        background-color: #ff5a00;
        color: #262826;
        border-color: #ff2424;
    }

    .popup-info .btn-group .info-btn:nth-child(2){
        background: #8d8c9f;
        border: 2px solid #8d8c9f;

    }
    .popup-info .btn-group .info-btn:nth-child(2):hover{
        background: #30cb0e;
        color: white;
        box-shadow: 0 0 25px #30cb0e,
        0 0 50px #30cb0e;
        border-color: #30cb0e;
    }

    .quiz-section .quiz-box{
        position: relative;
        background: transparent;
        border-radius: 6px;
        display: flex;
        flex-direction: column;
        padding: 20px 30px;
        opacity: 0;
        pointer-events: none;
        transform: scale(0.9);
        transition: 0.3s ease;
        transition-delay: 0s;
    }
    .quiz-section .quiz-box.active{
        opacity: 1;
        pointer-events: auto;
        transform: scale(1);
        transition: 1s ease;
        transition-delay: 1s;
    }
    .quiz-box {
        width: 80%; /* Adjust this percentage as needed */
        margin: 0 auto; /* Center the box horizontally */
    }

    .quiz-box .question-text {
        font-size: 24px;
        font-weight: 600;
        padding-top: 15px;
        padding-left: 20px; /* Add padding to give more space within the question box */
        padding-right: 20px; /* Add padding to give more space within the question box */
    }
    .quiz-box img{
        width: 120px;
        font-size: 32px;
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 6px;
    }
    .quiz-box .quiz-header{
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        border-bottom: 4px solid #30cb0e;

    }
    .quiz-header span{
        font-size: 18px;
        font-weight: 500;
        font-family: "Alexandria Light", sans-serif;
    }
    .quiz-header .header-score{
        background: #15325d;
        border-radius: 3px;
        padding: 7px;
        box-shadow: 0 0 15px #ffffff;
    }

    .quiz-box .question-text{
        font-size: 24px;
        font-weight: 600;
        padding-top: 15px;
        text-align: right;
    }
    .option-list {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        margin-bottom: 20px;
        padding: 20px;
        text-align: right;
    }

    .option-list .option {
        background: transparent;
        border: 2px solid rgb(55, 162, 208);
        border-radius: 3px;
        font-size: 17px;
        cursor: pointer;
        padding: 20px;
        margin: 0; /* Removed margin to avoid intersection */
        display: flex; /* Ensures content inside the option is properly aligned */
        align-items: center;
        justify-content: center;
        transition: 0.4s ease-in-out;
        text-align: right;
    }

    .option-list .option:hover {
        background: rgba(255, 255, 255, 0.14);
        border-color: WHITE;
        box-shadow: 0 0 15px WHITE, 0 0 20px WHITE;
        transform: scale(1.02);
    }


    .quiz-box .quiz-footer{
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-top: 4px solid #30cb0e;
        padding-top: 20px;
    }

    .quiz-footer .question-total{
        font-size: 16px;
        font-weight: 600;
    }

    .quiz-footer .next-btn, .quiz-footer .back-btn{
        width: 100px;
        height: 45px;
        background: rgb(55, 162, 208);
        border: 2px solid rgb(55, 162, 208);
        outline: none;
        border-radius: 6px;
        font-size: 16px;
        color: white;
        font-weight: 600;
        cursor: pointer;
        transition: 0.5s;
    }
    .quiz-footer .next-btn:hover, .quiz-footer .back-btn:hover{
        background: #37a2d0;
        border-color: rgb(55, 162, 208);
        box-shadow: 0 0 15px #37a2d0,
        0 0 30px #37a2d0;
    }

    .option-list .option.correct{
        background: #080808;
        color: #30cb0e;
        border-color: #30cb0e;
        box-shadow: 0 0 15px #30cb0e,
        0 0 20px #30cb0e;
    }

    .option-list .option.incorrect{
        background: #080808;
        color: #a60019;
        border-color: #a60019;
        box-shadow: 0 0 15px #da0707,
        0 0 20px #da0707;
    }
    .option-list .option.disabled{
        pointer-events: none;
    }
    .quiz-footer .next-btn.active{
        pointer-events: auto;
        background: #30cb0e;
        border-color: #30cb0e;
        color: white;
    }
    .quiz-footer .next-btn.active:hover{
        border-color: #30cb0e;
    }

    .quiz-section .result-box{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.9);
        width: 500px;
        background: transparent;
        border: 2px solid #30cb0e;
        border-radius: 6px;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        opacity: 0;
        pointer-events: none;
        transition: 0.3s ease;
    }

    .quiz-section .result-box.active{
        opacity: 1;
        pointer-events: auto;
        transform: translate(-50%, -50%) scale(1);
    }
    .result-box h2{
        font-size: 52px;
        font-family: "Eras Bold ITC", sans-serif;
    }
    .result-box .percentage-container{
        width: 300px;
        flex-direction: column;
        align-items: center;
        margin: 20px 0 40px;
        display: flex;
    }
    .Q-img img{
        width :620px;
        height :auto;
    }

    .percentage-container .circular-progress{
        position: relative;
        width: 250px;
        height: 250px;
        align-items: center;
        background: conic-gradient(#37a2d0 3.6deg, rgba(255, 255, 255, 0.1) 0deg);
        border-radius: 50%;
        display: flex;
        justify-content: center;
    }
    .percentage-container .circular-progress:before{
        content: "";
        position: absolute;
        width: 210px;
        height: 210px;
        background-color: rgb(13, 20, 24);
        border-radius: 50%;
    }
    .circular-progress .progress-value{
        position: relative;
        font-size: 45px;
        font-weight: 600;
    }
    .percentage-container .score-text{
        font-size: 25px;
        font-weight: 600;
        margin-top: 20px;
    }
    .buttons .gohome-btn{
        width: 130px;
        height: 47px;
        background: #37a2d0;
        border: 2px solid #37a2d0;
        outline: none;
        border-radius: 6px;
        font-size: 16px;
        color: white;
        font-weight: 600;
        margin: 0 20px 28px;
        cursor: pointer;
        transition: 0.5s;
    }
    .buttons button:nth-child(2){
        background: transparent;
        color: #37a2d0;
    }
    .buttons button:nth-child(2):hover{
        color: white;
        background: #37a2d0;
    }
    .buttons button:nth-child(1){
        background: transparent;
        color: #37a2d0;
    }
    .buttons button:nth-child(1):hover{
        color: white;
        background: #37a2d0;
    }
    .home-content span{
        font-size: 20px;
    }
    /* Styling for the Name Input Field */
    input[type="text"] {
        width: 70%;
        padding: 10px;
        margin-top: 8px;
        margin-bottom: 15px;
        font-size: 16px;
        border: 2px solid #cccccc;
        outline: none;
        background-color: #f9f9f9;
        color: #333;
        border-radius: 6px;
        justify-content: left;
        transition: border-color 0.3s, box-shadow 0.3s;
    }

    input[type="text"]:focus {
        border-color: #029b05;
        box-shadow: 0 0 5px #029b05;
    }

    /* Styling for the Save Name Button */
    .info-btn.save-name {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 10px 25px;
        background-color: #029b05;
        color: #ffffff;
        font-weight: 600;
        font-size: 16px;
        text-decoration: none;
        cursor: pointer;
        border: 2px solid #029b05;
        border-radius: 6px;
        transition: background-color 0.3s, box-shadow 0.3s;
        margin-top: 10px;
    }

    /* Hover Effect for Save Name Button */
    .info-btn.save-name:hover {
        background-color: #30cb0e;
        box-shadow: 0 0 10px #30cb0e, 0 0 20px #30cb0e;
    }

    /* Media Queries for Phones */
    @media (max-width: 760px) {
        body {
            overflow-x: hidden; /* Disables horizontal scrolling */
        }

        .quiz-box {
            margin-top: -10px; /* Shifts the quiz box up */
            height: auto; /* Allows the height to adjust based on content */
            padding: 10px; /* Optional: reduce padding if needed */
            scroll-behavior: smooth;
            overflow-y: auto; /* Enables vertical scrolling */
            overflow-x: hidden; /* Disables horizontal scrolling within quiz box */
        }

        .header {
            padding: 0;
        }

        .navbar {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: auto;
            margin-top: -10px;
            margin-right: -60px;
        }

        .logo .img {
            font-size: 24px;
            width: 180px;
            height: auto;
            margin: 10px 10px ;
        }
        .navbar a {
            font-size: 14px;
            margin-left: 20px;
        }

        .home-content h1 {
            font-size: 48px;
        }

        .home-content p {
            font-size: 14px;
            margin-bottom: 20px;
        }

        .home-content .start-btn {
            width: 150px;
            height: 45px;
            font-size: 16px;
        }

        .popup-info, .popup2 {
            width: 90%;
            padding: 10px;
            overflow-y: auto; /* Enables vertical scrolling */
            overflow-x: hidden; /* Disables horizontal scrolling */
        }

        .popup-info h2, .popup2 h2 {
            font-size: 36px;
        }

        .popup-info .info, .popup2 .gran {
            font-size: 14px;
            text-align: right;
        }

        .popup-info .btn-group .info-btn, .popup2 .btn .info-ok-btn {
            width: 100px;
            height: 40px;
            font-size: 14px;
            overflow-y: auto; /* Enables vertical scrolling */
            overflow-x: hidden; /* Disables horizontal scrolling */
        }

        .quiz-section .quiz-box,
        .quiz-section .result-box {
            width: 90%;
            padding: 15px;
            overflow-y: auto; /* Enables vertical scrolling */
            overflow-x: hidden; /* Disables horizontal scrolling */
        }

        .quiz-box h1 {
            font-size: 24px;
        }

        .quiz-box .quiz-header span {
            font-size: 14px;
        }

        .quiz-box .question-text {
            font-size: 18px;
        }

        .option-list .option {
            font-size: 14px;
            grid-template-columns: 1fr;
        }

        .quiz-footer .question-total {
            font-size: 14px;
        }

        .quiz-footer .next-btn, .quiz-footer .back-btn {
            width: 80px;
            height: 40px;
            font-size: 14px;
        }

        .result-box h2 {
            font-size: 36px;
        }

        .percentage-container .circular-progress {
            width: 200px;
            height: 200px;
            overflow-y: auto; /* Enables vertical scrolling */
            overflow-x: hidden; /* Disables horizontal scrolling */
        }

        .percentage-container .circular-progress:before {
            width: 170px;
            height: 170px;
            overflow-y: auto; /* Enables vertical scrolling */
            overflow-x: hidden; /* Disables horizontal scrolling */
        }

        .circular-progress .progress-value {
            font-size: 36px;
        }

        .percentage-container .score-text {
            font-size: 20px;
        }

        .buttons .gohome-btn {
            width: 100px;
            height: 40px;
            font-size: 14px;
        }

        .home-content img {
            width: 300px;
            margin-top: -20px;
            justify-content: center;
            justify-items: center;
            align-items: center;
            align-content: center;
        }

        .option-list {
            grid-template-columns: 1fr;
        }
        .img {
            width: 30px;
            height: auto;
            margin-bottom: 20px;
        }

        .img img {
            width: 30px;
            height: auto;
            object-fit: cover;
            border-radius: 6px;
        }
        .Q-img img{
            width :320px;
            height :auto;
        }
    }
    #vanta-bg {
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        z-index: -1;
    }
    .question-tag{
        color: #ffa500;
        text-shadow: 2px 2px 8px #ffffff;
    }
    .validname{
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        align-content: space-around;
        justify-content: flex-end;
        align-items: center;
    }
    .validname button{
        border-radius: 8px;
        color: white;
        background-color: #30cb0e;
        width: 120px;
        height: 40px;
        transition: 0.4s ease-in-out;
        border: none;
    }
    .validname button:hover {
        transform: scale(1.1);
        cursor: pointer;
    }
    .motivate{
        padding-top: 30px;
        font-size: 20px;
        text-align: center;
    }
    .gran2{
        text-align: right;
    }
    .gran2 a{
        text-decoration: #30cb0e;
        color: #029b05;
    }


</style>
<body>
<div id="vanta-bg"></div>
<main class="main">
    <header class="header">
        <a href="#" class="logo">
            <img src="L__1_-removebg-preview.png" alt="" CLASS="img">
        </a>
        <nav class="navbar">
            <a href="../ds.html" class="active">Home</a>
            <a href="#" class="popo">About</a>
        </nav>
    </header>
    <div class="container">
        <section class="quiz-section">
            <div class="quiz-box">
                <div class="quiz-header">
                    <img src="L__1_-removebg-preview.png" alt="">
                    <span class="header-score"> score: 0 / 5</span>
                </div>
                <div class="Q-img">
                </div>
                <div class="question-text"></div>
                <div class="option-list"></div>
                <div class="question-tag"></div><div class="user"></div>

                <div class="quiz-footer">
                    <span class="question-total">1 of 5 Questions</span>
                    <button class="back-btn">Back</button>
                    <button class="next-btn">Next</button>
                </div>
            </div>
            <div class="result-box">
                <h2>Quiz Result</h2>
                <div class="percentage-container">
                    <div class="circular-progress">
                        <span class="progress-value">0%</span>
                    </div>
                    <span class="score-text">Your score 0 out of 5</span>
                    <span class="motivate"></span>
                </div>
                <div class="buttons">
                    <button class="gohome-btn">Go to home</button>
                </div>
            </div>
        </section>
        <section class="home">
            <div class="home-content">
                <img src="L-removebg-preview.png">
                <p>
                    <span><b>أهلاً وسهلاً بيك في اختبار علم الاقتصاد</b></span><br>
                    علم الاقتصاد هو مجال بيجمع بين التحليل الكمي والنظري عشان نفهم توزيع الموارد وأولويات الاستهلاك والإنتاج. سواء بتستكشف تأثير السياسات الاقتصادية أو بتحلل أسواق المال، علم الاقتصاد بيوفر لك أدوات تساعدك تاخد قرارات مستنيرة مبنية على البيانات. انضم لينا واكتشف إزاي علم الاقتصاد ممكن يساعد في حل المشكلات وتحقيق التنمية المستدامة!
                </p>
                <button CLASS="start-btn">Start Quiz</button>
            </div>
        </section>
    </div>
</main>
<div class="popup-info">
    <h2>قواعد الاختبار</h2>
    <div style="text-align: right;">
        <span class="info">اسألة الفصل الثاني (المشكلة الاقتصادية والنظم الاقتصادية) من مادة علم الإقتصاد</span><br>
        <span class="info">  سبعة عشر سؤال اختيار من متعدد منها 7 للصح والغلط</span><br>
        <span class="info">يحظر تمامًا استخدام ايًا من ادوات الذكاء الاصطناعي</span><br>
        <span class="info">صُنعت بواسطة كامليون©️ في السابع من نوفمبر</span><br>
    </div>

    <!-- Name input field and Save Name button -->
    <div class="validname">
        <label for="name">ادخل اسمك بشكل صحيح للحصول علي تجربة افضل</label>
        <input type="text" id="name" name="name" placeholder="ادخل اسمك بشكل صحيح للحصول علي تجربة افضل" required>
        <button type="button" onclick="saveName()" class="info-btn">حفظ الاسم</button>
    </div>

    <div class="btn-group">
        <button class="info-btn exit-btn">الخروج</button>
        <a href="#" class="info-btn continue-btn disabled" id="continue-btn" onclick="continueQuiz()">الاستمرار</a>
    </div>
</div>


<div class="popup2">
    <h2>معلومات الاختبار</h2>
    <div class="gran2">
        <span class="gran"> كود الاختبار : lulyma1250072 </span>
        <br>
        <span class="gran">يمكنك الحصول علي الملف الاصلي من <a href="https://drive.google.com/file/d/1Uai6jvbcYJviXLo9NPBuq2ABxNstx2mE/view?usp=drive_link">هنا</a></span>
    </div>
    <div class="btn">
        <button class="info-ok-btn">حسنًا</button>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"></script>
<script>
    let name = "";
    let score = "";
    function saveName() {
        const nameInput = document.getElementById('name');
        const continueButton = document.getElementById('continue-btn');
        name = nameInput.value.trim();

        if (name) {
            localStorage.setItem('userName', name);
            continueButton.classList.remove('disabled');
            continueButton.style.background="#30cb0e";
            continueButton.style.borderColor="#30cb0e";
            alert("Welcome "+name+"!");
            console.log('hello',name);
        } else {
            alert("Please enter your name before saving.");
        }
    }

    function continueQuiz() {
        const name = localStorage.getItem('userName');

        if (name) {
            alert("Proceeding with quiz. Good luck, " + name + "!");
        } else {
            alert("Please save your name first.");
        }
    }


    VANTA.WAVES({
        el: "#vanta-bg",
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.00,
        minWidth: 200.00,
        scale: 1.00,
        scaleMobile: 1.00,
        color: 0x3d1b,
        shininess: 150.00,
        waveHeight: 40.00,
        waveSpeed: 1.15,
        zoom: 1.75
    })
    const startBtn = document.querySelector('.start-btn');
    const popupInfo = document.querySelector('.popup-info');
    const exitBtn = document.querySelector('.exit-btn');
    const main = document.querySelector('.main');
    const continueBtn = document.querySelector('.continue-btn');
    const quizSection = document.querySelector('.quiz-section');
    const quizBox = document.querySelector('.quiz-box');
    const resultBox = document.querySelector('.result-box');
    const home = document.querySelector('.gohome-btn');
    const about = document.querySelector('.popo');
    const popup2 = document.querySelector('.popup2');
    const ok = document.querySelector('.info-ok-btn');

    home.onclick = ()=>{
        window.location.href = '../../index.html';
    }
    about.onclick=()=>{
        popup2.classList.add('active');
        main.classList.add('active');
    };
    ok.onclick=()=>{
        popup2.classList.remove('active');
        main.classList.remove('active');
    };

    startBtn.onclick = () => {
        popupInfo.classList.add('active');
        main.classList.add('active');
    };

    exitBtn.onclick = () => {
        popupInfo.classList.remove('active');
        main.classList.remove('active');
    };

    continueBtn.onclick = () => {
        quizSection.classList.add('active');
        popupInfo.classList.remove('active');
        main.classList.remove('active');
        quizBox.classList.add('active');

        showQuestions(0);
        questionCounter(1);
        headerScore();
    }

    let questionCount = 0;
    let questionNumb = 1;
    let userScore = 0;
    let answeredQuestions = {};

    const nextBtn = document.querySelector('.next-btn');
    const backBtn = document.querySelector('.back-btn');

    nextBtn.onclick = () => {
        if (questionCount < question.length - 1) {
            questionCount++;
            showQuestions(questionCount);

            questionNumb++;
            questionCounter(questionNumb);
        } else {
            console.log('Question Completed');
            showResultBox();
        }
    }

    backBtn.onclick = () => {
        if (questionCount > 0) {
            questionCount--;
            showQuestions(questionCount);

            if (questionNumb > 1) {
                questionNumb--;
                questionCounter(questionNumb);
            }
        }
    }

    const optionList = document.querySelector('.option-list');

    function showQuestions(index) {
        console.log('Showing question:', index); // Debug line
        const questionText = document.querySelector('.question-text');
        const questionTag = document.querySelector('.question-tag'); // Select question tag element
        const userC = document.querySelector('.user')
        if (questionText) {
            // const x = question[index].numb;
            // x.style.background="red";
            questionText.innerHTML = `${question[index].question}`;
            questionTag.innerHTML = question[index].type;
            userC.innerHTML = ("Current User Hosting : "+name);// Set the question type (MCQ or True/False)

            addImage(index); // Call the function to add the image

            // Dynamically create option tags based on available options
            let optionTag = '';
            question[index].options.forEach(option => {
                optionTag += `<div class="option"><span>${option}</span></div>`;
            });
            document.querySelector(".option-list").innerHTML = optionTag;

            const optionElements = document.querySelectorAll('.option');
            optionElements.forEach(opt => opt.setAttribute('onclick', 'optionSelected(this)'));

            // Handle previously answered questions
            if (answeredQuestions[index]) {
                let correctAnswer = question[index].answer;
                optionElements.forEach(opt => {
                    opt.classList.add('disabled');
                    if (opt.textContent === correctAnswer) {
                        opt.classList.add('correct');
                    } else if (answeredQuestions[index].userAnswer === opt.textContent) {
                        opt.classList.add('incorrect');
                    }
                });
                nextBtn.classList.add('active');
            } else {
                optionElements.forEach(opt => {
                    opt.classList.remove('disabled', 'correct', 'incorrect');
                });
                nextBtn.classList.remove('active');
            }
        } else {
            console.error('Question text element not found.');
        }
    }


    function addImage(index) {
        const questionText = document.querySelector('.question-text');

        if (questionText && question[index].image) {
            // Remove any existing image
            const existingImage = document.querySelector('.question-image');
            if (existingImage) {
                existingImage.remove();
            }

            // Create a new image element
            const img = document.createElement('img');
            img.src = question[index].image; // Assume question[index].image contains the image URL
            img.alt = `Image for question ${question[index].numb}`;
            img.classList.add('question-image');

            if (window.matchMedia("(max-width: 760px)").matches) {
                // If the screen width is less than or equal to 760px
                img.style.width = '100%';
                img.style.height = 'auto';
                img.style.marginTop='30px'

            } else {
                // If the screen width is greater than 760px
                img.style.width = '650px';
                img.style.height = 'auto';
                img.style.display='flex';
                img.style.marginTop='30px'
            }

            // Append the image to the question text container
            questionText.appendChild(img);
        }
    }



    function optionSelected(answer) {
        let userAnswer = answer.textContent;
        let correctAnswer = question[questionCount].answer;
        let allOptions = optionList.children.length;

        if (userAnswer === correctAnswer) {
            userScore++;
            headerScore();
            answer.classList.add('correct');
        } else {
            answer.classList.add('incorrect');
            for (let i = 0; i < allOptions; i++) {
                if (optionList.children[i].textContent === correctAnswer) {
                    optionList.children[i].setAttribute('class', 'option correct');
                }
            }
        }
        for (let i = 0; i < allOptions; i++) {
            optionList.children[i].classList.add('disabled');
        }
        nextBtn.classList.add('active');

        // Mark question as answered
        answeredQuestions[questionCount] = { userAnswer: userAnswer };
    }

    function questionCounter(index) {
        const questionTotal = document.querySelector('.question-total');
        questionTotal.textContent = `${index} of ${question.length} Questions`;
    }

    function headerScore() {
        const headerScoreText = document.querySelector('.header-score ');
        headerScoreText.textContent = `You answered correctly ${userScore} / ${question.length}`;
    }
    function showResultBox() {
        const mot = document.querySelector('.motivate')
        quizBox.classList.remove('active');
        resultBox.classList.add('active');
        const scoreText = document.querySelector('.score-text');
        scoreText.textContent = `You Scored ${userScore} out of ${question.length}`;

        const circularProgress = document.querySelector('.circular-progress');
        const progressValue = document.querySelector('.progress-value');
        let progressStartValue = 0;
        let progressEndValue = Math.round((userScore / question.length) * 100);// Round to the nearest whole number
        score = progressEndValue;
        submitToGoogleForm(name, score)
        console.log(name,score);
        let speed = 20;

        let progress = setInterval(() => {
            progressStartValue++;
            if (userScore !== 0) {
                progressValue.textContent = `${progressStartValue}%`;

                if (progressStartValue > 85) {
                    circularProgress.style.background = `conic-gradient(#80e02c ${progressStartValue * 3.6}deg, rgba(255, 255, 255, 0.1) ${progressStartValue * 3.6}deg)`;
                    mot.innerHTML = ("Excellent Work ,"+name+" !🌟");
                } else if (progressStartValue > 65) {
                    circularProgress.style.background = `conic-gradient(cyan ${progressStartValue * 3.6}deg, rgba(255, 255, 255, 0.1) ${progressStartValue * 3.6}deg)`;
                    mot.innerHTML = ("Good Work ,"+name+" !😘");
                } else if (progressStartValue > 45) {
                    circularProgress.style.background = `conic-gradient(yellow ${progressStartValue * 3.6}deg, rgba(255, 255, 255, 0.1) ${progressStartValue * 3.6}deg)`;
                    mot.innerHTML = ("Acceptable Work ,"+name+" !🤙");
                } else {
                    circularProgress.style.background = `conic-gradient(red ${progressStartValue * 3.6}deg, rgba(255, 255, 255, 0.1) ${progressStartValue * 3.6}deg)`;
                    mot.innerHTML = ("Focus, "+name+" ! this isn't Good🫥");
                }

                if (progressStartValue === progressEndValue) {
                    clearInterval(progress);
                }
            } else {
                progressValue.textContent = `${0}%`;
                circularProgress.style.background = `conic-gradient(red ${360}deg, rgba(255, 255, 255, 0.1) ${360}deg)`;
                if (progressStartValue === progressEndValue) {
                    clearInterval(progress);
                }
            }
        }, speed);
    }
    function submitToGoogleForm(Gname,Gscore) {
        const formUrl = "https://docs.google.com/forms/u/0/d/e/1FAIpQLSfXmbt2xO-Fs16IJsFUqrVGGe-4ld2etKyHWXqFPJEzcjUgiw/formResponse";

        const formData = new FormData();
        formData.append("entry.1805334227", Gname);
        formData.append("entry.916594369", Gscore);
        fetch(formUrl, {
            method: "POST",
            body: formData
        })
            .then(response => {
                if (response.ok) {
                    alert("Form submitted successfully");
                } else {
                    alert("Error submitting form");
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
    }

    window.addEventListener("beforeunload", function (e) {
        // Custom message (modern browsers often ignore this message and show a default one)
        const confirmationMessage = "Are you sure you want to refresh this page?";

        // Setting the returnValue property of the event is necessary in some browsers
        e.returnValue = confirmationMessage;

        // This is to ensure the dialog box is shown
        return confirmationMessage;
    });
    // Disable right-click context menu
    document.addEventListener('contextmenu', function(event) {
        event.preventDefault();
    });

    // Disable F12, Ctrl+Shift+I, and other DevTools shortcuts
    document.addEventListener('keydown', function(event) {
        if (event.key === 'F12' ||
            (event.ctrlKey && event.shiftKey && event.key === 'I') ||
            (event.ctrlKey && event.shiftKey && event.key === 'J') ||
            (event.ctrlKey && event.key === 'U')) {
            event.preventDefault();
        }
    });

    // Disable Ctrl+S (Save Page As) and Ctrl+P (Print Page)
    document.addEventListener('keydown', function(event) {
        if ((event.ctrlKey && event.key === 'S') ||
            (event.ctrlKey && event.key === 'P')) {
            event.preventDefault();
        }
    });
</script>
<script src="quiz2.js"></script>
</body>
</html>
